---
import Cards from "./cards.astro";
const API_BASE_URL = import.meta.env.API_BASE_URL;

const response = await fetch(`${API_BASE_URL}/projects/1`);
const allOrganizations = await response.json();

type Projects = {
  id: number;
  name: string;
  description: string;
  projectUrl: string;
  programYear: number;
};
---

<div class="mainPage">
  <div class="upperSection">
    <div class="orgLogo">
        <img src={allOrganizations.logo} alt="logo" class="orgLogo" />

    </div>
    <div class="orgInfo">
   
    <div class="orgAbout">
      <p>
        Cloud native technologies empower organizations to build and runscalable
        applications in modern, dynamic environments such as public,private, and
        hybrid clouds. Containers, service meshes, microservices,immutable
        infrastructure, and declarative APIs exemplify this approach.
      </p>
      <p>
        These techniques enable loosely coupled systems that are resilient,
        manageable, and observable. Combined with robust automation, they allow
        engineers to make high-impact changes frequently and predictably with
        minimal toil.
      </p><p>
        The Cloud Native Computing Foundation seeks to drive adoption of this
        paradigm by fostering and sustaining an ecosystem of open source,
        vendor-neutral projects. We democratize state-of-the-art patterns to
        make these innovations accessible for everyone.
      </p>
    </div>
    <div class="graph">GRAPH</div>
</div>
</div>
</div>
<div class="pastYears">PAST YEARS</div>
<div class="navYear">
  <div class="yr1">2023</div>
  <div class="yr2">2022</div>
  <div class="yr3">2021</div>
  <div class="yr4">2020</div>
  <div class="yr5">2019</div>
</div>
<div class="lowerSection">
  {
    allOrganizations.projects.map((org: Projects) => (
      <Cards
        id={org.id}
        name={org.name}
        description={org.description}
        projectUrl={org.projectUrl}
        programYear={org.programYear}
      />
    ))
  }
</div>

<style>
  
 body{
    background: #00101B;

}
.mainPage{
    color: white;
    height: fit-content;
    padding: 0vh 8vw;

}
.upperSection{
    margin-top: 20vh;
    display: flex;
    flex-direction: column;
    height: 70vh;
}
.orgInfo{
    width:100%;
    display: flex;
}
.orgLogo{
   height: 15vh;
    margin: 0vh 0vw 10vh 0vw;
}
.orgAbout{
    display: flex;
    gap: 20px;
    flex-direction: column;
    font-family: Lato;
    font-size: 18px;
    font-weight: 400;
    line-height: 20px;
    letter-spacing: 0em;
    text-align: justified;

}
.graph{
    display: flex;
    width: 40%;
    justify-content: center;
    align-items: center;
}
.pastYears{
    width: 100%;
    display: flex;
    justify-content: center;
    font-family: Lato;
    font-size: 60px;
    font-weight: 700;
    line-height: 72px;
    letter-spacing: 0em;
    margin-bottom: 6vh;
    color: white;

}

.navYear{
    display: flex;
    height: fit-content;
    justify-content: center;
    gap: 5em;
    color: white;
    margin-bottom: 2vh;
}
.lowerSection{
    width: 100%;
    padding: 0vh 1vw;
    display: flex;
    flex-wrap: wrap;
    gap: 2vh;
    justify-content: center;
    background-color: rgb(16, 16, 16);
}
</style>
